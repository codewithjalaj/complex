(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{216:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(8),l=a(4),o=a(3),r=a(2),u=a.n(r),i=a(11),m=a(105),d=a.n(m),f=a(19),E=a(18),p=a(7),b=a(14);t.default=()=>{const[e,t]=Object(n.useState)(!0),[a,r]=Object(n.useState)(),[m,g]=Object(n.useState)(0),[w,h]=Object(n.useState)(!1),{id:y}=Object(l.g)(),k=Object(n.useContext)(p.a),N=Object(n.useContext)(b.a);if(Object(n.useEffect)(()=>{const e=u.a.CancelToken.source();return async function(){try{const a=await u.a.get("/post/"+y,{cancelToken:e.token});r(a.data),t(!1)}catch(e){console.log("Something went wrong.")}}(),()=>{e.cancel()}},[y]),Object(n.useEffect)(()=>{if(m){const e=u.a.CancelToken.source();return async function(){try{await u.a.delete("/post/"+y,{data:{token:k.userDetails.token}},{cancelToken:e.token});h(!0)}catch(e){console.log("Something went wrong.")}}(),()=>{e.cancel()}}},[m]),!e&&!a)return c.a.createElement(E.a,null);if(w)return N({type:"flashMessage",value:"Post Successfully Deleted."}),c.a.createElement(l.a,{to:"/profile/"+k.userDetails.username});if(e)return c.a.createElement(s.a,{title:"..."},c.a.createElement(i.a,null));const j=new Date(a.createdDate),D=`${j.getDate()}/${j.getMonth()+1}/${j.getFullYear()}`;return c.a.createElement(s.a,{title:a.title},c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("h1",null,a.title),!!k.loggedIn&&k.userDetails.username===a.author.username&&c.a.createElement("span",{className:"pt-2"},c.a.createElement(o.b,{"data-tip":"Edit Post","data-for":"edit",to:`/post/${y}/edit`,className:"text-primary mr-2",title:"Edit"},c.a.createElement("i",{className:"fas fa-edit"})),c.a.createElement(f.a,{id:"edit",className:"custom-tooltip"})," ",c.a.createElement("a",{onClick:function(){window.confirm("Are you sure?")&&g(e=>e+1)},"data-tip":"Delete Post","data-for":"delete",className:"delete-post-button text-danger",title:"Delete"},c.a.createElement("i",{className:"fas fa-trash"})),c.a.createElement(f.a,{id:"delete",className:"custom-tooltip"}))),c.a.createElement("p",{className:"text-muted small mb-4"},c.a.createElement(o.b,{to:"/profile/"+a.author.username},c.a.createElement("img",{className:"avatar-tiny",src:a.author.avatar})),"Posted by ",c.a.createElement(o.b,{to:"/profile/"+a.author.username},a.author.username)," on ",D),c.a.createElement("div",{className:"body-content"},c.a.createElement(d.a,{source:a.body})))}}}]);